<!DOCTYPE html>
<html class="scroll-smooth snap-x">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aahaar - Donor Page</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAr8lrPboddSawQ-AHqeq28pgA1bAcGuec&libraries=places"></script>

    <!-- <script src="script.js"></script> -->
    <style>
        #map {
            height: 300px;
            /* Adjust the height as needed */
        }
    </style>
</head>

<body onload="initAutocomplete()">

    <div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-sm">
            <img class="mx-auto sm:h-12 h-10 w-auto" src="../assets/logo.png" alt="Your Company">
            <h2 class="mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Post a Donation
                Listing</h2>
        </div>

        <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
            <form class="space-y-6" action="#" method="POST">
                <div>
                    <label for="quantity" class="block text-sm font-medium leading-6 text-gray-900">Food
                        Quantity</label>
                    <div class="mt-2">
                        <input id="quantity" name="quantity" type="text" required
                            class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6">
                    </div>
                </div>

                <div>
                    <label for="foodType" class="block text-sm font-medium leading-6 text-gray-900">Food Type</label>
                    <div class="mt-2">
                        <select id="foodType" name="foodType" required
                            class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6">
                            <option value="" disabled selected>Select Food Type</option>
                            <option value="veg">Vegetarian</option>
                            <option value="nonveg">Non-Vegetarian</option>
                        </select>
                    </div>
                </div>

                <div>
                    <div class="mt-2">
                        <div>
                            <label for="location" class="block text-sm font-medium leading-6 text-gray-900">Location</label>
                            <div class="mt-2">
                                <input id="location" name="location" type="text" required
                                    class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6">
                            </div>
                            <div id="map"></div>
                        </div>

                    </div>
                </div>

                <div>
                    <label for="details" class="block text-sm font-medium leading-6 text-gray-900">Details</label>
                    <div class="mt-2">
                        <textarea id="details" name="details" rows="4" required
                            class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6"></textarea>
                    </div>
                </div>

                <div>
                    <button type="submit"
                        class="flex w-full justify-center rounded-md bg-green-400 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600">Submit
                        Listing</button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/script.js"></script>
   <script>
    let locationInput = document.getElementById('location');
    let map = null;
    let autocomplete;
    let markers = [];

    function initAutocomplete() {
        // Create the autocomplete object for the location input
        autocomplete = new google.maps.places.Autocomplete(locationInput);

        // Set the types to restrict the search results to geographical locations
        autocomplete.setTypes(['geocode']);

        // Bias the autocomplete results towards the user's current location
        autocomplete.setFields(['address_component', 'geometry']);

        // Add a listener to update the map when a place is selected
        autocomplete.addListener('place_changed', updateMap);

        // Initialize the map with a default location
        const defaultLocation = { lat: 23.0772471, lng: 76.851511 }; // VIT Bhopal coordinates
        map = new google.maps.Map(document.getElementById('map'), {
            center: defaultLocation,
            zoom: 14
        });
    }

    function updateMap() {
        let place = autocomplete.getPlace();
        if (place.geometry && place.geometry.location) {
            // Clear the previous markers
            for (let i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];

            // Center the map on the selected location
            map.setCenter(place.geometry.location);

            // Add a marker at the selected location
            const marker = new google.maps.Marker({
                position: place.geometry.location,
                map: map
            });

            // Store the marker in the markers array
            markers.push(marker);
        }
    }

    // Initialize the Autocomplete and map
    google.maps.event.addDomListener(window, 'load', initAutocomplete);
</script>



</body>

</html>